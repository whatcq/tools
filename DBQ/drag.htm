<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="author" content="http://orzcss.com/">
  <title>24行代码，让你的网页元素任意放大、缩小、拖拽、移动</title>
  <style>
    .no_select {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      cursor: default;
    }
	#box {
      background: lightblue;
      cursor: pointer;
      color: #fff;
      height: 200px;
      position: absolute;
      width: 200px;
    }
    #coor {
      background: #0f0;
      cursor: move;
      display: inline-block;
      height: 20px;
      width: 20px;
    }
  </style>
</head>
<body>
  <div id="box" class="no_select">
    <a id="coor">+</a>
    移动红色方块，则拖拽红色方块<br>需要放大红色方块则拖拽绿色方块
  </div>
  <script src="http://www.orzhtml.com/wp-content/themes/orzhtml1.0/jquery/1.8.3/jquery.js?ver=1.0"></script>
  <script>
    $(document).on({'mousemove': function (e) {
      if (!!this.move) {
        var posix = !document.move_target ? {'x': 0,'y': 0} : document.move_target.posix,
        callback = document.call_down || function () {
          $(this.move_target).css({
            'top': e.pageY - posix.y,
            'left': e.pageX - posix.x
          });
        };
        callback.call(this, e, posix);
      }
    }, 'mouseup': function (e) {
        if (!!this.move) {
          var callback = document.call_up || function () {};
          callback.call(this, e);
          $.extend(this, {
            'move': false,
            'move_target': null,
            'call_down': false,
            'call_up': false
          });
        }
      }
    });
    // 例子测试
    var $box = $('#box').mousedown(function (e) {    
      var offset = $(this).offset();    
      this.posix = {
        'x': e.pageX - offset.left,
        'y': e.pageY - offset.top
      };
      $.extend(document, {
        'move': true,
        'move_target': this
      });
    }).on('mousedown', '#coor', function (e) {
      var posix = {
        'w': $box.width(),
        'h': $box.height(),
        'x': e.pageX,
        'y': e.pageY
      };
      $.extend(document, {
        'move': true,
        'call_down': function (e) {
          $box.css({
            'width': Math.max(30, e.pageX - posix.x + posix.w),
            'height': Math.max(30, e.pageY - posix.y + posix.h)
          });
        }
      });
      return false;
    });
  </script>
</body>
</html>